# сѓесЃЕсЃ╝сЃЄсЃљсЃЃсѓ░сѓгсѓцсЃЅ

## ­Ъџе тЋЈжАї: сѓесЃЕсЃ╝сЂ«тјЪтЏасЂїуЅ╣т«џсЂДсЂЇсЂфсЂё

### уЌЄуіХ

- 500 сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЎсѓІсЂїсђЂУЕ│у┤░сЂфсѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсЂїУАеуц║сЂЋсѓїсЂфсЂё
- сЃГсѓ░сѓњуб║УфЇсЂЌсЂдсѓѓтјЪтЏасЂїтѕєсЂІсѓЅсЂфсЂё
- тљїсЂўсѓесЃЕсЃ╝сЂїу╣░сѓіУ┐ћсЂЌуЎ║ућЪсЂЎсѓІ

### Та╣ТюгтјЪтЏа

1. **сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсЂїТГБсЂЌсЂЈтЈќтЙЌсЂДсЂЇсЂдсЂёсЂфсЂё**

   - Supabase сЂ«`functions.invoke`сЂї 500 сѓесЃЕсЃ╝сѓњ`error`сЂесЂЌсЂдТЅ▒сЂёсђЂ`data`сѓњ`null`сЂФсЂЎсѓІ
   - сѓесЃЕсЃ╝сЃгсѓ╣сЃЮсЃ│сѓ╣сЂ«ТюгТќЄсЂїтЈќтЙЌсЂДсЂЇсЂдсЂёсЂфсЂё

2. **сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░сЂїСИЇтЇЂтѕє**
   - Edge Function сЂ«сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсЂїУЕ│у┤░сЂДсЂфсЂё
   - сЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅтЂ┤сЂДсѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњТГБсЂЌсЂЈУАеуц║сЂЌсЂдсЂёсЂфсЂё

---

## РюЁ УДБТ▒║уГќ

### 1. сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсЂ«Тћ╣тќё

**Edge Function тЂ┤:**

- сѓесЃЕсЃ╝сЂ«УЕ│у┤░ТЃЁта▒№╝ѕсЃАсЃЃсѓ╗сЃ╝сѓИсђЂсѓ╣сѓ┐сЃЃсѓ»сЃѕсЃгсЃ╝сѓ╣сђЂсѓ┐сѓцсЃасѓ╣сѓ┐сЃ│сЃЌ№╝ЅсѓњУ┐ћсЂЎ
- сѓесЃЕсЃ╝сЂ«уе«жАъсЂФт┐юсЂўсЂЪжЂЕтѕЄсЂфсЃАсЃЃсѓ╗сЃ╝сѓИсѓњУ┐ћсЂЎ

**сЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅтЂ┤:**

- сѓесЃЕсЃ╝сЃгсѓ╣сЃЮсЃ│сѓ╣сЂ«ТюгТќЄсѓњТГБсЂЌсЂЈтЈќтЙЌсЂЎсѓІ
- сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњУЕ│у┤░сЂФУАеуц║сЂЎсѓІ

### 2. сѓесЃЕсЃ╝сЃГсѓ░сЂ«УЄфтІЋтЈќтЙЌ

- сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЌсЂЪсѓЅсђЂУЄфтІЋуџёсЂФсЃГсѓ░сѓњтЈќтЙЌ
- сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњсѓесЃЄсѓБсѓ┐тєЁсЂДуб║УфЇсЂДсЂЇсѓІсѓѕсЂєсЂФсЂЎсѓІ

---

## ­ЪћД т«ЪУБЁсЂЌсЂЪТћ╣тќё

### 1. Edge Function сЂ«сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░Тћ╣тќё

```typescript
// сѓѕсѓіУЕ│у┤░сЂфсѓесЃЕсЃ╝ТЃЁта▒сѓњУ┐ћсЂЎ
const errorResponse = {
  error: errorMessage,
  errorName: errorName,
  details: errorStack,
  timestamp: new Date().toISOString(),
};
```

### 2. сЃЋсЃГсЃ│сЃѕсѓесЃ│сЃЅсЂ«сѓесЃЕсЃ╝сЃЈсЃ│сЃЅсЃфсЃ│сѓ░Тћ╣тќё

```typescript
// сѓесЃЕсЃ╝сЃгсѓ╣сЃЮсЃ│сѓ╣сЂ«ТюгТќЄсѓњТГБсЂЌсЂЈтЈќтЙЌ
if (response.data) {
  errorMessage = response.data.error || response.data.message || errorMessage;
  if (response.data.details) {
    console.error("РЮї сѓесЃЕсЃ╝УЕ│у┤░:", response.data.details);
  }
}
```

---

## ­ЪЊІ сЃЄсЃљсЃЃсѓ░ТЅІжає

### сѓ╣сЃєсЃЃсЃЌ 1: сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњуб║УфЇ

1. сЃќсЃЕсѓдсѓХсЂ« Console сѓ┐сЃќсѓњжќІсЂЈ
2. сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЌсЂЪТЎѓсЂ«сЃГсѓ░сѓњуб║УфЇ
3. `РЮї сѓесЃЕсЃ╝УЕ│у┤░:` сЂ«сЃГсѓ░сѓњуб║УфЇ

### сѓ╣сЃєсЃЃсЃЌ 2: сЃЇсЃЃсЃѕсЃ»сЃ╝сѓ»сѓ┐сЃќсЂДуб║УфЇ

1. сЃќсЃЕсѓдсѓХсЂ« Network сѓ┐сЃќсѓњжќІсЂЈ
2. `create-checkout`сЃфсѓ»сѓесѓ╣сЃѕсѓњТјбсЂЎ
3. Response сѓ┐сЃќсЂДсѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњуб║УфЇ

### сѓ╣сЃєсЃЃсЃЌ 3: Supabase Dashboard сЂДуб║УфЇ

1. Supabase Dashboard сЂДсЃГсѓ░сѓњуб║УфЇ
2. сѓесЃЕсЃ╝сЃГсѓ░сЂ«УЕ│у┤░сѓњуб║УфЇ
3. сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњсѓ│сЃћсЃ╝

### сѓ╣сЃєсЃЃсЃЌ 4: сѓесЃЕсЃ╝сЃГсѓ░сЃЋсѓАсѓцсЃФсЂФС┐ЮтГў

1. `./scripts/auto-check-errors.sh create-checkout` сѓњт«ЪУАї
2. `.claude/logs/create-checkout-logs.md` сѓњжќІсЂЈ
3. сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњУ▓╝сѓіС╗ўсЂЉсѓІ

---

## ­ЪњА С╗ітЙїсЂ«Тћ╣тќёТАѕ

1. **сѓесЃЕсЃ╝сЃГсѓ░сЂ«УЄфтІЋтЈќтЙЌ**

   - сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЌсЂЪсѓЅсђЂУЄфтІЋуџёсЂФсЃГсѓ░сѓњтЈќтЙЌ
   - сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњУЄфтІЋуџёсЂФсЃЋсѓАсѓцсЃФсЂФС┐ЮтГў

2. **сѓесЃЕсЃ╝сЂ«УЄфтІЋтѕєТъљ**

   - сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИсѓњУЄфтІЋуџёсЂФтѕєТъљ
   - тјЪтЏасѓњуЅ╣т«џсЂЌсЂдсђЂУДБТ▒║уГќсѓњТЈљТАѕ

3. **сѓесЃЕсЃ╝сЂ«жђџуЪЦ**
   - сѓесЃЕсЃ╝сЂїуЎ║ућЪсЂЌсЂЪсѓЅсђЂУЄфтІЋуџёсЂФжђџуЪЦ
   - Slack/Discord сЂФжђџуЪЦ


