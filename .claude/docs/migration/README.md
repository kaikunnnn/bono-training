# ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

**ç›®çš„**: æ—¢å­˜ã® Stripe é¡§å®¢ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆ2,162 äººã€250 ä»¶ï¼‰ã‚’æ–°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆSupabaseï¼‰ã«ç§»è¡Œã™ã‚‹

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

### 1. ğŸ“‹ è¦ä»¶å®šç¾©ãƒ»ãƒ’ã‚¢ãƒªãƒ³ã‚°

**[data-migration-planning.md](./data-migration-planning.md)**
- ç§»è¡Œå‰ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚·ãƒ¼ãƒˆï¼ˆ29 å•ï¼‰
- æ—¢ã«å›ç­”æ¸ˆã¿
- ç§»è¡Œè¦æ¨¡ã€ãƒ‡ãƒ¼ã‚¿ä¿å­˜å ´æ‰€ã€ç´ä»˜ã‘æ–¹æ³•ãªã©ã‚’å®šç¾©

---

### 2. ğŸ“Š ç¾çŠ¶åˆ†æ

**[current-implementation-summary.md](./current-implementation-summary.md)**
- ç¾åœ¨ã® Supabase ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 
- å®Ÿè£…ãƒ•ãƒ­ãƒ¼
- ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®çŠ¶æ³

**[current-data-status.md](./current-data-status.md)**
- Supabase ã®å®Ÿãƒ‡ãƒ¼ã‚¿çŠ¶æ³ï¼ˆ8 ä»¶ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼‰
- Stripe ã®é¡§å®¢ã‚µãƒ³ãƒ—ãƒ«ï¼ˆ2 ä»¶ï¼‰
- ä¾¡æ ¼ä¸ä¸€è‡´å•é¡Œã®ç™ºè¦‹
- MemberStack ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª

---

### 3. ğŸ¯ ç§»è¡Œè¨ˆç”»

**[migration-plan.md](./migration-plan.md)**
- 3 ãƒ•ã‚§ãƒ¼ã‚ºã®ç§»è¡Œæˆ¦ç•¥
- ãƒ‡ãƒ¼ã‚¿åŒæœŸæ–¹æ³•
- ä¸¦è¡Œç¨¼åƒã®æ‰‹é †
- ãƒªã‚¹ã‚¯åˆ†æã¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

**[migration-next-steps.md](./migration-next-steps.md)**
- å®Ÿè£…æ‰‹é †ã®è©³ç´°ç‰ˆ
- 3 ã¤ã®ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆã‚³ãƒ¼ãƒ‰ä»˜ãï¼‰
- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆç›®å®‰ï¼‰
- ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

---

### 4. ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰ï¼ˆâ˜… æ¬¡ã«ã‚„ã‚‹ã“ã¨ï¼‰

**[migration-test-guide.md](./migration-test-guide.md)**
- Phase 0: 1 ä»¶ãƒ†ã‚¹ãƒˆï¼ˆæœ€åˆï¼‰
- Phase 1: 10 ä»¶ãƒ†ã‚¹ãƒˆï¼ˆæ¬¡ï¼‰
- Phase 2: å…¨ä»¶ç§»è¡Œï¼ˆæœ€å¾Œï¼‰
- å‹•ä½œç¢ºèªæ–¹æ³•
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

---

### 5. ğŸ“ è£œè¶³è³‡æ–™

**[information-checklist.md](./information-checklist.md)**
- ãƒ‡ãƒ¼ã‚¿åé›†ã®ãŸã‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- æ—¢ã«å®Œäº†

---

## ğŸš€ ç¾åœ¨ã®çŠ¶æ³

### âœ… å®Œäº†ã—ãŸã“ã¨

- [x] è¦ä»¶ãƒ’ã‚¢ãƒªãƒ³ã‚°
- [x] ç¾çŠ¶åˆ†æ
- [x] ç§»è¡Œè¨ˆç”»ã®ç­–å®š
- [x] CSV ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  - [x] `stripe-customers.csv` (2,162 ä»¶)
  - [x] `stripe-subscriptions.csv` (250 ä»¶å‰å¾Œ)
- [x] ãƒ†ã‚¹ãƒˆç”¨ CSV ã®ä½œæˆ
  - [x] `stripe-customers-test.csv` (1 ä»¶)
  - [x] `stripe-subscriptions-test.csv` (1 ä»¶)
- [x] Service Role Key ã®å–å¾—
- [x] ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ
  - [x] `scripts/migrate-create-auth-users.ts`
  - [x] `scripts/migrate-stripe-customers.ts`
  - [x] `scripts/migrate-subscriptions.ts`

### ğŸ”„ æ¬¡ã«ã‚„ã‚‹ã“ã¨

**Phase 0: 1 ä»¶ãƒ†ã‚¹ãƒˆ**ï¼ˆ`migration-test-guide.md` ã‚’å‚ç…§ï¼‰

1. Script 1 ã‚’å®Ÿè¡Œ: Auth ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
   ```bash
   npx tsx scripts/migrate-create-auth-users.ts stripe-customers-test.csv
   ```

2. Script 2 ã‚’å®Ÿè¡Œ: stripe_customers ãƒ†ãƒ¼ãƒ–ãƒ«
   ```bash
   npx tsx scripts/migrate-stripe-customers.ts stripe-customers-test.csv
   ```

3. Script 3 ã‚’å®Ÿè¡Œ: user_subscriptions ãƒ†ãƒ¼ãƒ–ãƒ«
   ```bash
   npx tsx scripts/migrate-subscriptions.ts stripe-subscriptions-test.csv
   ```

4. å‹•ä½œç¢ºèª
   - Supabase Dashboard ã§ãƒ‡ãƒ¼ã‚¿ç¢ºèª
   - ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
   - ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æƒ…å ±ã®è¡¨ç¤ºç¢ºèª

---

## ğŸ“Š ç§»è¡Œå¯¾è±¡ãƒ‡ãƒ¼ã‚¿

### æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ 

- **ç·é¡§å®¢æ•°**: 2,162 äºº
- **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³**: 250 ä»¶
- **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: Stripe + MemberStack
- **æ—¢å­˜ãƒ—ãƒ©ãƒ³**:
  - Standard 1 ãƒ¶æœˆ: Â¥6,800/æœˆ
  - Standard 3 ãƒ¶æœˆ: Â¥5,800/æœˆ
  - Feedback 1 ãƒ¶æœˆ: Â¥1,480/æœˆ
  - Feedback 3 ãƒ¶æœˆ: Â¥1,280/æœˆ

### æ–°ã‚·ã‚¹ãƒ†ãƒ 

- **Supabase Auth**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- **Supabase Database**: ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- **Stripe**: æ—¢å­˜ã®ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ ID ã‚’ç¶­æŒ

---

## âš ï¸ é‡è¦ãªæ±ºå®šäº‹é …

### 1. æ—¢å­˜ Stripe ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ ID ã‚’ç¶­æŒ

- æ–°ã—ã„ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã¯ä½œæˆã—ãªã„
- ä¾¡æ ¼å¤‰æ›´ãªã—
- èª²é‡‘ç¶™ç¶š

### 2. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯æ®‹ã™

- æ—¢å­˜ã® 8 ä»¶ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ã‚¯ãƒªã‚¢ã—ãªã„
- ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨ã—ã¦æ´»ç”¨
- æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã¨æ··åœ¨ã—ã¦ã‚‚å•é¡Œãªã—ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§åŒºåˆ¥ï¼‰

### 3. æ®µéšçš„ç§»è¡Œ

- Phase 0: 1 ä»¶ãƒ†ã‚¹ãƒˆ
- Phase 1: 10 ä»¶ãƒ†ã‚¹ãƒˆ
- Phase 2: å…¨ä»¶ç§»è¡Œ
- Phase 3: ä¸¦è¡Œç¨¼åƒï¼ˆ1-2 é€±é–“ï¼‰
- Phase 4: å®Œå…¨ç§»è¡Œ

---

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [Stripe Dashboard](https://dashboard.stripe.com)
- [Supabase Dashboard](https://supabase.com/dashboard/project/fryogvfhymnpiqwssmuu)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ](../../)

---

**æœ€çµ‚æ›´æ–°**: 2025-11-19
**æ¬¡å›æ›´æ–°**: Phase 0 ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ
