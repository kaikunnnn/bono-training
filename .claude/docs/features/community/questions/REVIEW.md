# 質問機能レビュー

**レビュー日**: 2025-02-20
**レビュアー**: カイさん

---

## 確認結果（実装後）

<!-- ここに確認して気づいたことを書いてください -->

- 質問一覧のオブジェクトに「質問の内容が2-3行見える」ようにして欲しいけど表示されてない
-

---

## 対象ファイル

- `src/pages/questions/QuestionList.tsx`
- `src/pages/questions/QuestionDetail.tsx`

---

## タスク一覧

### 🔴 高優先度

| #    | タスク                                                  | 対象       | 状態    |
| ---- | ------------------------------------------------------- | ---------- | ------- |
| Q-01 | タイトル+カテゴリ+日付を1ブロックにまとめ、下にボーダー | 詳細ページ | ✅ 完了 |
| Q-02 | 質問内容のプレビュー（1-2行）を表示                     | 一覧ページ | ✅ 完了 |
| Q-03 | 回答者名を「Kai」→「カイクン」に変更 + アイコン設定     | 詳細ページ | ✅ 完了 |

### 🟡 中優先度

| #    | タスク                                               | 対象       | 状態    |
| ---- | ---------------------------------------------------- | ---------- | ------- |
| Q-04 | BONOメンバーアイコンをFluentEmojiに変更 + 境界線修正 | 詳細ページ | ✅ 完了 |
| Q-05 | 質問/回答の役割ラベル追加（「質問」「回答」）        | 詳細ページ | ✅ 完了 |
| Q-06 | 一覧のアイコン💬を💭に変更                           | 一覧ページ | ✅ 完了 |

### 🟢 低優先度（機能追加）

| #    | タスク                              | 対象          | 状態   |
| ---- | ----------------------------------- | ------------- | ------ |
| Q-07 | マークダウン→リッチテキスト変換機能 | Sanity Studio | ✅ 完了 |

### 📋 要検討

| #    | タスク                           | 備考                   | 状態 |
| ---- | -------------------------------- | ---------------------- | ---- |
| Q-08 | ユーザー自身が質問投稿できる機能 | [仕様書](./Q-08-USER-POSTING-SPEC.md) | 📋 仕様策定中 |

---

## タスク詳細

### Q-01: タイトルブロックの整理

**問題**: タイトルと「カテゴリ＋日付」が別ブロックになっている
**解決策**: 1つのブロックにまとめ、下部にボーダーを配置
**影響範囲**: `QuestionDetail.tsx` 270-289行目付近

### Q-02: 質問内容プレビュー表示

**問題**: 一覧でタイトルだけでは内容がわからない
**解決策**: 質問内容を1-2行表示してユーザーが内容を想起できるようにする
**影響範囲**: `QuestionList.tsx` QuestionCardコンポーネント
**備考**: Sanityから `questionExcerpt` または `questionContent` の先頭部分を取得

### Q-03: 回答者表示の変更

**問題**: 「Kai」表示を「カイクン」に統一したい + アイコン設定
**解決策**:

- 表示名を「カイクン」に変更
- 指定のアイコン画像を設定
- 将来的にブログ・お役立ち等と統一管理できる構造に
  **影響範囲**: `QuestionDetail.tsx` 315-333行目付近
  **アイコン画像**: `public/images/authors/kaikun.png` ← ここに画像を配置してください

### Q-04: BONOメンバーアイコンの改善

**問題**: 👤アイコンが味気ない + 境界線が薄い
**解決策**: FluentEmojiで考えている顔アイコンに変更 + 境界線を明確に
**影響範囲**: `QuestionDetail.tsx` 293-299行目付近
**アイコン**: Neutral Face (FluentEmoji)

- URL: `https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Neutral%20face/3D/neutral_face_3d.png`

### Q-05: 質問/回答の役割ラベル

**問題**: 誰が質問で誰が回答かわかりにくい
**解決策**: 「BONOメンバー」の横に「質問」、「カイクン」の横に「回答」ラベル追加
**影響範囲**: `QuestionDetail.tsx`

### Q-06: 一覧アイコンの変更

**問題**: 💬がシンプルすぎる
**解決策**: 💭（思考バブル）に変更
**影響範囲**: `QuestionList.tsx` 48行目付近

### Q-07: マークダウン変換機能

**問題**: マークダウンで書いた内容を貼り付けたい
**解決策**: Sanity Studioにマークダウン→リッチテキスト変換機能を追加
**備考**: ブログ・記事ページで既に実装済みの機能を流用

### Q-08: ユーザー投稿機能（要検討）

**優先度**: 今回のレビュー後に着手
**要件**:

- ユーザーが自分で質問を投稿
- リッチテキスト対応（見出し、箇条書き）
- 画像添付機能
  **検討事項**:
- Sanityで実現可能か
- 認証との連携
- モデレーション（承認フロー）の必要性

---

## UI/UX（レビュー原文）

- 質問詳細ページのタイトル周り
  - 「タイトル」と「カテゴリ＋日付」のブロックを一緒のブロックにしたいです。その下にボーダーがくるようにしたい。
- "BONOメンバー"のアイコンを、何かFluentEmojiを使って、ポップなものにしたい。考えている顔アイコンなかったっけ。。あとBONOメンバーアイコンのアイコン部分の境界線が薄いのでそれ気になります。
- BONOメンバ〜：質問、kai:回答、なので、大きくなくていいのでそれがわかるような情報を表示したいです。
- 回答は一旦「カイクン」固定なので表示を「カイクン」にしたいです。アイコンも設定したいのがあります。もしかしたらブログの執筆やお役立ちの執筆のユーザーも全部カイクンなので統一できるようにした方が良いかも
- 一覧ページ
  - 質問タイトルの下に、質問内容の文章が1-2行表示されていて欲しいです。理由は興味を持ったっユーザーがどういう内容かを想起できるヒントになるため。
  - 「💬」のアイコン、FluenEmojiでもっとPOPなものないですかね？💭とかそういうのとか

---

## 機能性（レビュー原文）

- マークダウンで別で書いて貼り付けしたりするので、「マークダウン貼り付けてリッチテキストに変換」する機能が欲しいです。→ブログとか記事ページでやっているやつです。

### 相談

- ゆくゆくユーザーが自分で投稿（リッチテキスト、見出しと箇条書きぐらいは使いたい、画像も添付）して、それについて答えるという機能にする場合、それは今のSanityでも可能なんでしょうか？割と早めに欲しいと思っているのですが

---

## パフォーマンス

（特記事項なし）
