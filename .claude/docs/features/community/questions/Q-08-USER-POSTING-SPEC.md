# Q-08: ãƒ¦ãƒ¼ã‚¶ãƒ¼è³ªå•æŠ•ç¨¿æ©Ÿèƒ½ ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025-02-20
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ“‹ ä»•æ§˜ç­–å®šä¸­

---

## 1. æ©Ÿèƒ½æ¦‚è¦

### ç›®çš„

BONOãƒ¡ãƒ³ãƒãƒ¼ãŒè‡ªåˆ†ã§è³ªå•ã‚’æŠ•ç¨¿ã—ã€ã‚«ã‚¤ã‚¯ãƒ³ãŒå›ç­”ã§ãã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

### ç¾çŠ¶

- è³ªå•ã¯ Sanity Studio ã‹ã‚‰ç›´æ¥å…¥åŠ›ï¼ˆç®¡ç†è€…ã®ã¿ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯é–²è¦§ã®ã¿å¯èƒ½

### ç›®æ¨™

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰è³ªå•ã‚’æŠ•ç¨¿
- ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œï¼ˆè¦‹å‡ºã—ã€ç®‡æ¡æ›¸ãï¼‰
- ç”»åƒæ·»ä»˜æ©Ÿèƒ½
- ã‚«ã‚¤ã‚¯ãƒ³ãŒ Sanity Studio ã§å›ç­”ã‚’è¨˜å…¥

---

## 2. æ©Ÿèƒ½è¦ä»¶

### 2.1 æŠ•ç¨¿æ©Ÿèƒ½

| è¦ä»¶ | èª¬æ˜ | å„ªå…ˆåº¦ |
|------|------|--------|
| ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ› | ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆä¸¡å¯¾å¿œ | ğŸ”´ é«˜ |
| ãƒªãƒ³ã‚¯æŒ¿å…¥ | æœ¬æ–‡ä¸­ã«URLãƒªãƒ³ã‚¯ã‚’æŒ¿å…¥å¯èƒ½ | ğŸ”´ é«˜ |
| Figmaãƒªãƒ³ã‚¯æ¬„ | Figma URL å°‚ç”¨ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ğŸ”´ é«˜ |
| è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§è³ªå•ã®æ›¸ãæ–¹ã‚’ã‚¬ã‚¤ãƒ‰ | ğŸ”´ é«˜ |
| è¦‹å‡ºã—å¯¾å¿œ | H3 ãƒ¬ãƒ™ãƒ«ã®è¦‹å‡ºã—ãŒä½¿ãˆã‚‹ | ğŸŸ¡ ä¸­ |
| ç®‡æ¡æ›¸ã | ç•ªå·ãªã—ãƒ»ç•ªå·ä»˜ããƒªã‚¹ãƒˆ | ğŸŸ¡ ä¸­ |
| ç”»åƒæ·»ä»˜ | 1ã€œ3æšç¨‹åº¦ã®ç”»åƒã‚’æ·»ä»˜ | ğŸŸ¡ ä¸­ |
| ã‚«ãƒ†ã‚´ãƒªé¸æŠ | æ—¢å­˜ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰é¸æŠ | ğŸ”´ é«˜ |
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | æŠ•ç¨¿å‰ã«å†…å®¹ã‚’ç¢ºèª | ğŸŸ¢ ä½ |

### 2.2 è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰

è³ªå•ã®è³ªã‚’é«˜ã‚ã€ä»–ã®ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚‚èƒŒæ™¯ãŒä¼ã‚ã‚‹ã‚ˆã†ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æä¾›ã€‚

#### ãƒ•ã‚©ãƒ¼ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚«ãƒ†ã‚´ãƒª: [ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠ]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¿ã‚¤ãƒˆãƒ«:                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ä¾‹: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®UIãƒ‡ã‚¶ã‚¤ãƒ³ã«ã¤ã„ã¦              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Figmaãƒªãƒ³ã‚¯ï¼ˆä»»æ„ï¼‰:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ https://www.figma.com/file/...                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è³ªå•å†…å®¹:                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ## èƒŒæ™¯ãƒ»çŠ¶æ³                                       â”‚ â”‚
â”‚ â”‚ ä»Šã©ã‚“ãªã“ã¨ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã‹ï¼Ÿ                  â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ## å›°ã£ã¦ã„ã‚‹ã“ã¨ãƒ»è³ªå•                             â”‚ â”‚
â”‚ â”‚ å…·ä½“çš„ã«ä½•ã«å›°ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ                        â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ## è©¦ã—ãŸã“ã¨ï¼ˆä»»æ„ï¼‰                               â”‚ â”‚
â”‚ â”‚ è‡ªåˆ†ã§è©¦ã—ã¦ã¿ãŸã“ã¨ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‚è€ƒURLï¼ˆä»»æ„ï¼‰:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å‚è€ƒã«ã—ã¦ã„ã‚‹ã‚µã‚¤ãƒˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã®URLãŒã‚ã‚Œã°         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ

**ã‚¿ã‚¤ãƒˆãƒ«æ¬„**:
```
ä¾‹: ã€Œãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã¤ã„ã¦ã€
```

**è³ªå•å†…å®¹æ¬„**ï¼ˆåˆæœŸè¡¨ç¤ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰:
```markdown
## èƒŒæ™¯ãƒ»çŠ¶æ³
ï¼ˆä»Šå–ã‚Šçµ„ã‚“ã§ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„èª²é¡Œã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„ï¼‰

## å›°ã£ã¦ã„ã‚‹ã“ã¨ãƒ»è³ªå•
ï¼ˆå…·ä½“çš„ã«ä½•ã«ã¤ã„ã¦èããŸã„ã‹æ•™ãˆã¦ãã ã•ã„ï¼‰

## è©¦ã—ãŸã“ã¨ï¼ˆä»»æ„ï¼‰
ï¼ˆè‡ªåˆ†ã§èª¿ã¹ãŸã‚Šè©¦ã—ãŸã“ã¨ãŒã‚ã‚Œã°æ›¸ã„ã¦ãã ã•ã„ï¼‰
```

**Figmaãƒªãƒ³ã‚¯æ¬„**:
```
https://www.figma.com/file/... ã¾ãŸã¯ https://www.figma.com/design/...
```

### 2.3 è¡¨ç¤ºãƒ»ç®¡ç†æ©Ÿèƒ½

| è¦ä»¶ | èª¬æ˜ | å„ªå…ˆåº¦ |
|------|------|--------|
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º | ã€Œå›ç­”å¾…ã¡ã€ã€Œå›ç­”æ¸ˆã¿ã€ãªã© | ğŸ”´ é«˜ |
| è‡ªåˆ†ã®è³ªå•ä¸€è¦§ | ãƒã‚¤ãƒšãƒ¼ã‚¸ã§æŠ•ç¨¿ã—ãŸè³ªå•ã‚’ç¢ºèª | ğŸŸ¡ ä¸­ |
| é€šçŸ¥æ©Ÿèƒ½ | å›ç­”ãŒã¤ã„ãŸã‚‰é€šçŸ¥ | ğŸŸ¢ ä½ |

### 2.4 Slacké€šçŸ¥æ©Ÿèƒ½

| ãƒˆãƒªã‚¬ãƒ¼ | é€šçŸ¥å…ˆ | å†…å®¹ |
|----------|--------|------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè³ªå•æŠ•ç¨¿ | æŒ‡å®šSlackãƒãƒ£ãƒ³ãƒãƒ« | æ–°è¦è³ªå•ãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸ |
| ã‚«ã‚¤ã‚¯ãƒ³ãŒå›ç­”æŠ•ç¨¿ | æŒ‡å®šSlackãƒãƒ£ãƒ³ãƒãƒ« | è³ªå•ã«å›ç­”ãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸ |

#### é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹

**è³ªå•æŠ•ç¨¿æ™‚**:
```
ğŸ“ æ–°ã—ã„è³ªå•ãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸ

ã‚¿ã‚¤ãƒˆãƒ«: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦
ã‚«ãƒ†ã‚´ãƒª: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª
æŠ•ç¨¿è€…: ãƒ¦ãƒ¼ã‚¶ãƒ¼å

ğŸ”— Sanity Studioã§ç¢ºèª: https://bono-training.sanity.studio/...
```

**å›ç­”æŠ•ç¨¿æ™‚**:
```
âœ… è³ªå•ã«å›ç­”ã—ã¾ã—ãŸ

ã‚¿ã‚¤ãƒˆãƒ«: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦
ã‚«ãƒ†ã‚´ãƒª: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª

ğŸ”— è³ªå•ãƒšãƒ¼ã‚¸: https://bono-training.vercel.app/questions/...
```

### 2.3 é‹ç”¨æ©Ÿèƒ½

| è¦ä»¶ | èª¬æ˜ | å„ªå…ˆåº¦ |
|------|------|--------|
| ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | ä¸é©åˆ‡ãªæŠ•ç¨¿ã®éå…¬é–‹åŒ– | ğŸŸ¡ ä¸­ |
| å›ç­”å…¥åŠ› | Sanity Studio ã‹ã‚‰å›ç­” | ğŸ”´ é«˜ |
| å…¬é–‹ç®¡ç† | å›ç­”å¾Œã«å…¬é–‹ or å³æ™‚å…¬é–‹ | ğŸ”´ é«˜ |

---

## 3. æŠ€è¡“ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### 3.1 é¸æŠè‚¢ã®æ¯”è¼ƒ

| ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | æ¨å¥¨ |
|------------|----------|------------|------|
| **A: Sanity + Write Token** | æ—¢å­˜ã‚¤ãƒ³ãƒ•ãƒ©æ´»ç”¨ã€Sanity Studioã§ç®¡ç†ä¸€å…ƒåŒ– | Write Tokenç®¡ç†ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Ÿè£… | â­ |
| **B: Supabase + Sanityé€£æº** | Supabaseã®èªè¨¼æ´»ç”¨ã€RLSå¯¾å¿œ | 2ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã€ãƒ‡ãƒ¼ã‚¿åŒæœŸå¿…è¦ | â–³ |
| **C: Sanity Members** | Sanityç´”æ­£ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† | è¿½åŠ ã‚³ã‚¹ãƒˆã€æ—¢å­˜èªè¨¼ã¨ã®äºŒé‡ç®¡ç† | Ã— |

### 3.2 æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: Aï¼ˆSanity + Write Tokenï¼‰

**ç†ç”±**:
1. æ—¢å­˜ã® Sanity ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ãã®ã¾ã¾æ´»ç”¨
2. è³ªå•ãƒ»å›ç­”ãƒ‡ãƒ¼ã‚¿ãŒ Sanity ã«ä¸€å…ƒåŒ–
3. ã‚«ã‚¤ã‚¯ãƒ³ã®å›ç­”ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå¤‰ã‚ã‚‰ãªã„
4. å°†æ¥ã®æ©Ÿèƒ½æ‹¡å¼µï¼ˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æŠ•ç¨¿ãªã©ï¼‰ã«ã‚‚å¿œç”¨å¯èƒ½

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 4.1 Sanity ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´

```typescript
// question.ts ã«è¿½åŠ ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

defineField({
  name: 'author',
  title: 'æŠ•ç¨¿è€…',
  type: 'object',
  fields: [
    { name: 'userId', type: 'string', title: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ID (Supabase)' },
    { name: 'displayName', type: 'string', title: 'è¡¨ç¤ºå' },
    { name: 'avatarUrl', type: 'url', title: 'ã‚¢ãƒã‚¿ãƒ¼URL' },
  ],
  description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿ã®å ´åˆã«è¨­å®š',
}),

defineField({
  name: 'figmaUrl',
  title: 'Figmaãƒªãƒ³ã‚¯',
  type: 'url',
  description: 'Figmaãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ï¼ˆä»»æ„ï¼‰',
  validation: (Rule) => Rule.uri({
    scheme: ['https'],
    allowRelative: false,
  }).custom((url) => {
    if (!url) return true;
    if (url.includes('figma.com')) return true;
    return 'Figma ã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
  }),
}),

defineField({
  name: 'referenceUrls',
  title: 'å‚è€ƒURL',
  type: 'array',
  of: [
    {
      type: 'object',
      fields: [
        { name: 'title', type: 'string', title: 'ã‚¿ã‚¤ãƒˆãƒ«' },
        { name: 'url', type: 'url', title: 'URL' },
      ],
    },
  ],
  description: 'å‚è€ƒã«ã—ã¦ã„ã‚‹ã‚µã‚¤ãƒˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã®URLï¼ˆä»»æ„ï¼‰',
}),

defineField({
  name: 'status',
  title: 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹',
  type: 'string',
  options: {
    list: [
      { title: 'å›ç­”å¾…ã¡', value: 'pending' },
      { title: 'å›ç­”æ¸ˆã¿', value: 'answered' },
      { title: 'éå…¬é–‹', value: 'hidden' },
    ],
  },
  initialValue: 'pending',
}),

defineField({
  name: 'isPublic',
  title: 'å…¬é–‹çŠ¶æ…‹',
  type: 'boolean',
  description: 'å›ç­”å¾Œã«å…¬é–‹ã™ã‚‹å ´åˆã¯ON',
  initialValue: false,
}),

defineField({
  name: 'submittedAt',
  title: 'æŠ•ç¨¿æ—¥æ™‚',
  type: 'datetime',
  description: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŠ•ç¨¿ã—ãŸæ—¥æ™‚',
}),
```

### 4.2 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ãƒ­ãƒ¼

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿]
     â†“
 status: "pending"
 isPublic: false
     â†“
[ã‚«ã‚¤ã‚¯ãƒ³å›ç­”å…¥åŠ›]
     â†“
 status: "answered"
 isPublic: true  â† å…¬é–‹
     â†“
[è³ªå•ä¸€è¦§ã«è¡¨ç¤º]
```

---

## 5. API è¨­è¨ˆ

### 5.1 è³ªå•æŠ•ç¨¿ API

```typescript
// lib/api/questions.ts

interface SubmitQuestionPayload {
  title: string;
  categoryId: string;  // Sanity category reference ID
  questionContent: PortableTextBlock[];
  images?: File[];  // æ·»ä»˜ç”»åƒ
}

export async function submitQuestion(
  payload: SubmitQuestionPayload,
  user: User
): Promise<{ questionId: string }> {
  // 1. ç”»åƒãŒã‚ã‚Œã°Sanity Assetsã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  // 2. Write Tokenã‚’ä½¿ã£ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
  // 3. ä½œæˆã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆIDã‚’è¿”ã™
}
```

### 5.2 API Routesï¼ˆVercel Functionsï¼‰

```
/api/questions/submit     POST  è³ªå•ã‚’æŠ•ç¨¿
/api/questions/my         GET   è‡ªåˆ†ã®è³ªå•ä¸€è¦§
/api/questions/upload     POST  ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### 5.3 ç’°å¢ƒå¤‰æ•°

```env
# .env.local ã«è¿½åŠ 
SANITY_WRITE_TOKEN=xxxxx  # Sanity API Write Token
```

**æ³¨æ„**: Write Token ã¯çµ¶å¯¾ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«éœ²å‡ºã•ã›ãªã„ï¼ˆAPI RoutesçµŒç”±ã§ä½¿ç”¨ï¼‰

---

## 6. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

### 6.1 æ–°è¦ãƒšãƒ¼ã‚¸/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```
src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ questions/
â”‚       â””â”€â”€ new/
â”‚           â””â”€â”€ index.tsx      # è³ªå•æŠ•ç¨¿ãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/
â”‚   â””â”€â”€ questions/
â”‚       â”œâ”€â”€ QuestionForm.tsx   # æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ 
â”‚       â”œâ”€â”€ RichTextEditor.tsx # ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿
â”‚       â””â”€â”€ ImageUploader.tsx  # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### 6.2 ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿

**é¸æŠè‚¢**:

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|------------|----------|------------|
| **Tiptap** | è»½é‡ã€Headlessã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè‡ªç”± | Portable Textå¤‰æ›ãŒå¿…è¦ |
| **Plate** | Slateç³»ã€TypeScriptå¯¾å¿œ | å­¦ç¿’ã‚³ã‚¹ãƒˆ |
| **Sanity Portable Text Editor** | Sanityå½¢å¼ãã®ã¾ã¾ | ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¤§ |

**æ¨å¥¨**: Tiptap + å¤‰æ›ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

### 6.3 UI ãƒ•ãƒ­ãƒ¼

```
[è³ªå•ä¸€è¦§ãƒšãƒ¼ã‚¸]
     â†“ ã€Œè³ªå•ã™ã‚‹ã€ãƒœã‚¿ãƒ³
[è³ªå•æŠ•ç¨¿ãƒšãƒ¼ã‚¸]
  - ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›
  - ã‚«ãƒ†ã‚´ãƒªé¸æŠ
  - æœ¬æ–‡å…¥åŠ›ï¼ˆãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆï¼‰
  - ç”»åƒæ·»ä»˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
     â†“ æŠ•ç¨¿
[ç¢ºèªç”»é¢]
  - ã€ŒæŠ•ç¨¿ã—ã¾ã—ãŸã€‚å›ç­”ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚ã€
     â†“
[ãƒã‚¤ãƒšãƒ¼ã‚¸ or è³ªå•ä¸€è¦§ã¸]
```

---

## 7. èªè¨¼ãƒ»èªå¯

### 7.1 æŠ•ç¨¿æ¨©é™ï¼ˆç¢ºå®šï¼‰

| æ¡ä»¶ | æŠ•ç¨¿å¯å¦ |
|------|----------|
| æœªãƒ­ã‚°ã‚¤ãƒ³ | âŒ ä¸å¯ |
| ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼ˆç„¡æ–™ä¼šå“¡ï¼‰ | âŒ ä¸å¯ |
| ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼ˆæœ‰æ–™ä¼šå“¡ï¼‰ | âœ… å¯èƒ½ |

**æ±ºå®š**: æœ‰æ–™ä¼šå“¡ã®ã¿æŠ•ç¨¿å¯èƒ½

### 7.2 é–²è¦§æ¨©é™

| ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | ç„¡æ–™ä¼šå“¡ | æœ‰æ–™ä¼šå“¡ |
|------------|----------|----------|
| å›ç­”æ¸ˆã¿è³ªå• | âœ… é–²è¦§å¯ | âœ… é–²è¦§å¯ |
| è‡ªåˆ†ã®å›ç­”å¾…ã¡è³ªå• | - | âœ… é–²è¦§å¯ |
| ä»–äººã®å›ç­”å¾…ã¡è³ªå• | âŒ | âŒ |

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 8.1 ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å¯¾ç­– |
|--------|------|
| ä¸æ­£æŠ•ç¨¿ï¼ˆã‚¹ãƒ‘ãƒ ï¼‰ | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ1æ—¥5ä»¶ã¾ã§ï¼‰ã€èªè¨¼å¿…é ˆ |
| Write Token æ¼æ´© | API RoutesçµŒç”±ã®ã¿ã€ç’°å¢ƒå¤‰æ•°ç®¡ç† |
| å¤§é‡ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆ5MBï¼‰ã€æšæ•°åˆ¶é™ï¼ˆ3æšï¼‰ |
| XSSæ”»æ’ƒ | Portable Text ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚º |
| ä¸é©åˆ‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã€å ±å‘Šæ©Ÿèƒ½ |

### 8.2 å…¥åŠ›æ¤œè¨¼

```typescript
// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
const validationRules = {
  title: { minLength: 5, maxLength: 100 },
  questionContent: { minLength: 20, maxLength: 5000 },
  images: { maxCount: 3, maxSizeKB: 5120 },
};
```

---

## 9. Slacké€šçŸ¥ã®å®Ÿè£…

### 9.1 æŠ€è¡“ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

| æ–¹å¼ | å®Ÿè£…å ´æ‰€ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|------|----------|----------|------------|
| **A: Slack Incoming Webhook** | API Routes | ã‚·ãƒ³ãƒ—ãƒ«ã€è¨­å®šãŒç°¡å˜ | åŒæ–¹å‘é€šä¿¡ä¸å¯ |
| B: Slack Bot | API Routes | æŸ”è»Ÿæ€§é«˜ã„ | è¨­å®šãŒè¤‡é›‘ |
| C: Sanity Webhook + Zapier | å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ | ã‚³ãƒ¼ãƒ‰ä¸è¦ | è¿½åŠ ã‚³ã‚¹ãƒˆ |

**æ¨å¥¨**: Aï¼ˆSlack Incoming Webhookï¼‰

### 9.2 Slack Webhook è¨­å®š

1. Slack App ã‚’ä½œæˆï¼ˆã¾ãŸã¯æ—¢å­˜ã‚¢ãƒ—ãƒªã‚’ä½¿ç”¨ï¼‰
2. Incoming Webhook ã‚’æœ‰åŠ¹åŒ–
3. é€šçŸ¥å…ˆãƒãƒ£ãƒ³ãƒãƒ«ã‚’é¸æŠ
4. Webhook URL ã‚’å–å¾—

```env
# .env.local ã«è¿½åŠ 
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T.../B.../xxx
```

### 9.3 é€šçŸ¥é€ä¿¡ã‚³ãƒ¼ãƒ‰

```typescript
// lib/slack.ts

interface SlackNotification {
  type: 'question_submitted' | 'answer_posted';
  title: string;
  category: string;
  author?: string;
  url: string;
}

export async function sendSlackNotification(data: SlackNotification) {
  const webhookUrl = process.env.SLACK_WEBHOOK_URL;
  if (!webhookUrl) return;

  const emoji = data.type === 'question_submitted' ? 'ğŸ“' : 'âœ…';
  const action = data.type === 'question_submitted'
    ? 'æ–°ã—ã„è³ªå•ãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸ'
    : 'è³ªå•ã«å›ç­”ã—ã¾ã—ãŸ';

  const message = {
    blocks: [
      {
        type: 'section',
        text: {
          type: 'mrkdwn',
          text: `${emoji} *${action}*\n\n*ã‚¿ã‚¤ãƒˆãƒ«:* ${data.title}\n*ã‚«ãƒ†ã‚´ãƒª:* ${data.category}${data.author ? `\n*æŠ•ç¨¿è€…:* ${data.author}` : ''}`
        }
      },
      {
        type: 'actions',
        elements: [
          {
            type: 'button',
            text: { type: 'plain_text', text: 'ç¢ºèªã™ã‚‹' },
            url: data.url
          }
        ]
      }
    ]
  };

  await fetch(webhookUrl, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(message),
  });
}
```

### 9.4 é€šçŸ¥ãƒˆãƒªã‚¬ãƒ¼

**è³ªå•æŠ•ç¨¿æ™‚**ï¼ˆAPI Routesï¼‰:
```typescript
// api/questions/submit.ts
await submitQuestion(payload);
await sendSlackNotification({
  type: 'question_submitted',
  title: payload.title,
  category: categoryName,
  author: user.displayName,
  url: `https://bono-training.sanity.studio/desk/question;${questionId}`,
});
```

**å›ç­”æŠ•ç¨¿æ™‚**ï¼ˆSanity Webhookï¼‰:
```
Sanity Studio ã§å›ç­”ä¿å­˜
    â†“
Sanity Webhook ç™ºç«
    â†“
/api/webhooks/sanity-question-answered
    â†“
Slack é€šçŸ¥é€ä¿¡
```

---

## 10. å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1-2æ—¥ï¼‰

- [ ] Sanity ã‚¹ã‚­ãƒ¼ãƒæ›´æ–°ï¼ˆauthor, status, isPublic, figmaUrl, referenceUrls è¿½åŠ ï¼‰
- [ ] API Routes ä½œæˆï¼ˆ/api/questions/submitï¼‰
- [ ] Write Token è¨­å®š
- [ ] æœ‰æ–™ä¼šå“¡ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯

### Phase 2: æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ2-3æ—¥ï¼‰

- [ ] QuestionForm ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] ã‚«ãƒ†ã‚´ãƒªé¸æŠ
- [ ] ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ä»˜ãï¼‰
- [ ] Figmaãƒªãƒ³ã‚¯å…¥åŠ›æ¬„
- [ ] è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
- [ ] å‚è€ƒURLå…¥åŠ›æ¬„
- [ ] æŠ•ç¨¿ç¢ºèªç”»é¢

### Phase 3: ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œï¼ˆ2æ—¥ï¼‰

- [ ] Tiptap ã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆ
- [ ] Portable Text å¤‰æ›
- [ ] è¦‹å‡ºã—ãƒ»ç®‡æ¡æ›¸ããƒ»ãƒªãƒ³ã‚¯æŒ¿å…¥ã‚µãƒãƒ¼ãƒˆ

### Phase 4: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ1-2æ—¥ï¼‰

- [ ] ImageUploader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] Sanity Assets ã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º

### Phase 5: Slacké€šçŸ¥ï¼ˆ1æ—¥ï¼‰

- [ ] Slack Incoming Webhook è¨­å®š
- [ ] è³ªå•æŠ•ç¨¿æ™‚ã®é€šçŸ¥é€ä¿¡
- [ ] Sanity Webhook è¨­å®šï¼ˆå›ç­”æŠ•ç¨¿æ™‚ï¼‰
- [ ] å›ç­”æŠ•ç¨¿æ™‚ã®é€šçŸ¥é€ä¿¡

### Phase 6: ç®¡ç†æ©Ÿèƒ½ï¼ˆ1æ—¥ï¼‰

- [ ] ãƒã‚¤ãƒšãƒ¼ã‚¸ã«ã€Œè‡ªåˆ†ã®è³ªå•ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³
- [ ] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º

---

## 11. å·¥æ•°è¦‹ç©ã‚‚ã‚Š

| ãƒ•ã‚§ãƒ¼ã‚º | å·¥æ•° |
|----------|------|
| Phase 1: åŸºç›¤æ§‹ç¯‰ | 1-2æ—¥ |
| Phase 2: æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  | 2-3æ—¥ |
| Phase 3: ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆ | 2æ—¥ |
| Phase 4: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | 1-2æ—¥ |
| Phase 5: Slacké€šçŸ¥ | 1æ—¥ |
| Phase 6: ç®¡ç†æ©Ÿèƒ½ | 1æ—¥ |
| **åˆè¨ˆ** | **8-11æ—¥** |

**MVPï¼ˆæœ€å°å®Ÿè£…ï¼‰ã®å ´åˆ**:
- Phase 1 + Phase 2 + Phase 5 â†’ **4-6æ—¥**
- ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä»˜ãï¼‰
- Figmaãƒªãƒ³ã‚¯ãƒ»å‚è€ƒURLå¯¾å¿œ
- Slacké€šçŸ¥ã‚ã‚Š
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯å¾Œå›ã—

---

## 12. ä»£æ›¿æ¡ˆãƒ»å°†æ¥æ‹¡å¼µ

### 11.1 Slackã¨ã®é€£æºï¼ˆä»£æ›¿æ¡ˆï¼‰

SlackæŠ•ç¨¿ â†’ Zapier/Make â†’ Sanity ã«è‡ªå‹•ç™»éŒ²

**ãƒ¡ãƒªãƒƒãƒˆ**: é–‹ç™ºã‚³ã‚¹ãƒˆã»ã¼ã‚¼ãƒ­
**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ãŒåˆ†æ–­

### 11.2 å°†æ¥ã®æ‹¡å¼µ

- è³ªå•ã¸ã®ã€Œã„ã„ã­ã€æ©Ÿèƒ½
- è³ªå•ã®ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
- é¡ä¼¼è³ªå•ã®æ¨å¥¨
- AI ã«ã‚ˆã‚‹å›ç­”ä¸‹æ›¸ãç”Ÿæˆ

---

## 13. çµè«–ã¨æ¨å¥¨

### æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

1. **æŠ€è¡“**: Sanity + Write Tokenï¼ˆAPI RoutesçµŒç”±ï¼‰
2. **ã‚¨ãƒ‡ã‚£ã‚¿**: Tiptapï¼ˆè»½é‡ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§é«˜ï¼‰
3. **èªè¨¼**: æœ‰æ–™ä¼šå“¡ã®ã¿æŠ•ç¨¿å¯èƒ½ï¼ˆç¢ºå®šï¼‰
4. **é€šçŸ¥**: Slack Incoming Webhook
5. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: è³ªå•ã®æ›¸ãæ–¹ã‚’ã‚¬ã‚¤ãƒ‰ã™ã‚‹ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

### æœ€å°å®Ÿè£…ï¼ˆMVPï¼‰ã§å§‹ã‚ã‚‹

- ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä»˜ãï¼‰
- Figmaãƒªãƒ³ã‚¯ãƒ»å‚è€ƒURLå…¥åŠ›æ¬„
- Slacké€šçŸ¥ï¼ˆè³ªå•æŠ•ç¨¿æ™‚ãƒ»å›ç­”æ™‚ï¼‰
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯å¾Œå›ã—
- ã¾ãšã¯æŠ•ç¨¿â†’å›ç­”ã®ãƒ•ãƒ­ãƒ¼ã‚’ç¢ºç«‹

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. ã‚«ã‚¤ã•ã‚“ã®ç¢ºèªï¼šã“ã®ä»•æ§˜ã§OKã‹
2. Slacké€šçŸ¥å…ˆãƒãƒ£ãƒ³ãƒãƒ«ã®æ±ºå®š
3. Phase 1 ã‹ã‚‰å®Ÿè£…é–‹å§‹
