# 質問ページ 仕様書

**ステータス**: 🟢 仕様確定
**最終更新**: 2026-02-18

---

## 概要

Slackで受けている質問への回答をまとめて公開するページ。
質問者の悩みと、Kaiくんの回答をセットで表示する。

---

## ページ構成

| ページ | パス | 説明 |
|--------|------|------|
| 質問一覧 | `/questions` | 質問の一覧を表示 |
| 質問詳細 | `/questions/[slug]` | 質問と回答を表示 |

---

## デザイン方針

### 基本
- **/eventsページの幅・フォントサイズ感を参考**
- 既存のデザインシステム（トークン・コンポーネント）を使用
- **QAサービスのようなコミュニティ感**のあるデザイン

### 参考にするページ
- `/events` - レイアウト、幅、フォントサイズ

---

## 詳細ページの要件

### 構成イメージ

```
┌─────────────────────────────────────┐
│ タイトル                              │
│ カテゴリタグ / 公開日                  │
├─────────────────────────────────────┤
│                                     │
│ 🧑 固定アイコン  BONOメンバー          │
│ ┌─────────────────────────────────┐ │
│ │ 質問ブロック                      │ │
│ │ （テキスト + 画像があれば表示）     │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 👤 Kaiくんアイコン  Kai              │
│ ┌─────────────────────────────────┐ │
│ │ 回答ブロック                      │ │
│ │ （マークダウンでリッチに表示）       │ │
│ └─────────────────────────────────┘ │
│                                     │
├─────────────────────────────────────┤
│ 関連質問（同カテゴリ）                 │
│ ┌───────┐ ┌───────┐ ┌───────┐      │
│ │ Q1    │ │ Q2    │ │ Q3    │      │
│ └───────┘ └───────┘ └───────┘      │
├─────────────────────────────────────┤
│ 最近の質問                           │
│ ┌───────┐ ┌───────┐ ┌───────┐      │
│ │ 新着1  │ │ 新着2  │ │ 新着3  │      │
│ └───────┘ └───────┘ └───────┘      │
└─────────────────────────────────────┘
```

### 表示項目
- [x] タイトル
- [x] カテゴリタグ
- [x] 公開日
- [x] 質問内容（固定アイコン + 「BONOメンバー」ラベル付き）
- [x] 回答内容（Kaiくんアイコン + 「Kai」ラベル付き）
- [x] 質問に含まれる画像（あれば表示）
- [x] 関連質問（同カテゴリ）
- [x] 最近の質問

### 質問者の表示
- **名前は非表示**（匿名）
- **固定アイコン** + **「BONOメンバー」テキスト**で人が質問している感を演出

### 回答者の表示
- **Kaiくんのアイコン** + **「Kai」テキスト**

---

## 一覧ページの要件

### 表示項目
- タイトル
- カテゴリタグ
- 質問の冒頭（抜粋）
- 公開日

### 機能
- [x] カテゴリフィルター
- [x] 新着順ソート（デフォルト）
- [ ] キーワード検索（後で検討）

---

## データ構造

### 質問 (question)
| フィールド | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| title | string | ✓ | 質問のタイトル |
| slug | slug | ✓ | URLスラッグ |
| category | reference | ✓ | カテゴリへの参照 |
| questionContent | block/markdown | ✓ | 質問の内容（画像含む） |
| answerContent | block/markdown | ✓ | Kaiくんの回答（リッチテキスト） |
| publishedAt | datetime | ✓ | 公開日 |

### カテゴリ (questionCategory)
| フィールド | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| title | string | ✓ | カテゴリ名 |
| slug | slug | ✓ | URLスラッグ |
| order | number | ✓ | 表示順 |
| color | string | | テーマカラー |

### カテゴリ一覧
1. Figma
2. キャリア
3. BONO
4. デザイン全般
5. AI
6. UI
7. 情報設計
8. 課題解決
9. 現場の働き方

---

## 入力ワークフロー

```
1. Slackで質問を受ける
2. Sanity Studioで質問ページを作成
   - 質問内容をコピペ
   - 画像があればアップロード
   - 回答をマークダウンで記述
3. 公開
4. SlackでURLを共有
```

---

## 技術要件

### マークダウン表示
- **既存の記事詳細ページ（コース）のマークダウンスタイルを再利用**
- コンポーネントとして共通化する

### 画像
- 質問内に画像を含められる（Sanityの画像アップロード機能を使用）

### 公開範囲
| 閲覧者 | 表示内容 |
|--------|----------|
| 全員 | 全文表示（質問者は匿名・固定アイコン表示） |

---

## 追加機能

### 「質問ありがとう」スタンプボタン
- いいね的な機能
- **ログインユーザーのみ**使用可能
- 1質問につき1人1回（トグル式）
- 質問詳細ページに表示

### OGP設定
- **タイトル**: 質問のタイトル
- **画像**: 固定のOGP画像（質問ページ共通）
- **説明**: 質問の冒頭テキスト（自動抽出）

---

## 変更履歴

| 日付 | 内容 |
|------|------|
| 2026-02-18 | スタンプ機能、OGP設定を追加 |
| 2026-02-18 | 仕様確定。デザイン方針、関連質問、最近の質問を追加 |
| 2026-02-18 | 初版作成 |
