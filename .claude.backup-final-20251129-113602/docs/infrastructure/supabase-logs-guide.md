# Supabaseãƒ­ã‚°ç¢ºèªã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Supabaseã®ãƒ­ã‚°ã‚„ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

1. [Supabase Dashboardã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹](#æ–¹æ³•1-supabase-dashboardã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹-æœ€ã‚‚ç°¡å˜)
2. [Supabase CLIã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹](#æ–¹æ³•2-supabase-cliã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹-æ¨å¥¨)
3. [ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹](#æ–¹æ³•3-ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹)
4. [ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•](#ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•)

---

## æ–¹æ³•1: Supabase Dashboardã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ï¼ˆæœ€ã‚‚ç°¡å˜ï¼‰

### æ‰‹é †

1. [Supabase Dashboard](https://supabase.com/dashboard) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ `fryogvfhymnpiqwssmuu` ã‚’é¸æŠ
3. å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ **Logs** â†’ **Edge Functions** ã‚’é¸æŠ
4. ç¢ºèªã—ãŸã„Functionã‚’é¸æŠï¼ˆä¾‹: `create-checkout`, `stripe-webhook`ï¼‰
5. ãƒ­ã‚°ã‚’ç¢ºèª

### ãƒ¡ãƒªãƒƒãƒˆ

- âœ… ãƒ–ãƒ©ã‚¦ã‚¶ã ã‘ã§ç¢ºèªå¯èƒ½
- âœ… ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªUIã§è¦‹ã‚„ã™ã„
- âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚„æ¤œç´¢ãŒç°¡å˜
- âœ… ã‚¨ãƒ©ãƒ¼ã®è©³ç´°æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### ãƒ­ã‚°ã®è¦‹æ–¹

- **æˆåŠŸ**: ç·‘è‰²ã®ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒª
- **ã‚¨ãƒ©ãƒ¼**: èµ¤è‰²ã®ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒª
- **è­¦å‘Š**: é»„è‰²ã®ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒª

ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆæƒ…å ±
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—

---

## æ–¹æ³•2: Supabase CLIã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ï¼ˆæ¨å¥¨ï¼‰

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 1. Supabase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# macOS (Homebrew)
brew install supabase/tap/supabase

# ã¾ãŸã¯ npmçµŒç”±
npm install -g supabase
```

#### 2. Supabase CLIã«ãƒ­ã‚°ã‚¤ãƒ³

```bash
supabase login
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã®ã§ã€Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚

#### 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªãƒ³ã‚¯

```bash
cd /Users/kaitakumi/Documents/bono-training
supabase link --project-ref fryogvfhymnpiqwssmuu
```

### ãƒ­ã‚°ç¢ºèªã‚³ãƒãƒ³ãƒ‰

#### ã™ã¹ã¦ã®Edge Functionsã®ãƒ­ã‚°ã‚’ç¢ºèª

```bash
supabase functions logs
```

#### ç‰¹å®šã®Functionã®ãƒ­ã‚°ã‚’ç¢ºèª

```bash
# create-checkoutã®ãƒ­ã‚°
supabase functions logs create-checkout

# stripe-webhookã®ãƒ­ã‚°
supabase functions logs stripe-webhook

# check-subscriptionã®ãƒ­ã‚°
supabase functions logs check-subscription
```

#### æœ€æ–°ã®Nä»¶ã®ãƒ­ã‚°ã‚’è¡¨ç¤º

```bash
supabase functions logs create-checkout --limit 50
```

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ­ã‚°ã‚’ç›£è¦–

```bash
supabase functions logs create-checkout --follow
```

### ãƒ­ã‚°ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

```bash
# ã‚¨ãƒ©ãƒ¼ã®ã¿ã‚’è¡¨ç¤ºï¼ˆgrepã‚’ä½¿ç”¨ï¼‰
supabase functions logs create-checkout | grep -i error

# ç‰¹å®šã®æ–‡å­—åˆ—ã‚’å«ã‚€ãƒ­ã‚°ã‚’è¡¨ç¤º
supabase functions logs create-checkout | grep "STRIPE"
```

---

## æ–¹æ³•3: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹

### Bashã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# ã™ã¹ã¦ã®ãƒ­ã‚°ã‚’ç¢ºèª
./scripts/check-supabase-logs.sh

# ç‰¹å®šã®Functionã®ãƒ­ã‚°ã‚’ç¢ºèª
./scripts/check-supabase-logs.sh create-checkout
```

### TypeScriptã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# tsxãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆ
tsx scripts/check-supabase-logs.ts create-checkout

# æœ€æ–°50ä»¶ã®ãƒ­ã‚°ã‚’è¡¨ç¤º
tsx scripts/check-supabase-logs.ts create-checkout --limit 50

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–
tsx scripts/check-supabase-logs.ts create-checkout --follow
```

---

## ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•

### ã‚¨ãƒ©ãƒ¼1: "Supabase CLIãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“"

**å¯¾å‡¦æ³•:**
```bash
# macOS
brew install supabase/tap/supabase

# ã¾ãŸã¯
npm install -g supabase
```

### ã‚¨ãƒ©ãƒ¼2: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ã¾ã›ã‚“"

**å¯¾å‡¦æ³•:**
```bash
supabase link --project-ref fryogvfhymnpiqwssmuu
```

### ã‚¨ãƒ©ãƒ¼3: "èªè¨¼ã‚¨ãƒ©ãƒ¼"

**å¯¾å‡¦æ³•:**
```bash
supabase login
```

### ã‚¨ãƒ©ãƒ¼4: "ãƒ­ã‚°ãŒå–å¾—ã§ããªã„"

**ç¢ºèªäº‹é …:**
1. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒã‚ã‚‹ã‹
2. Supabase CLIã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ã‹
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ã‚‹ã‹
4. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDãŒæ­£ã—ã„ã‹

---

## ãƒ­ã‚°ã®ç¢ºèªãƒã‚¤ãƒ³ãƒˆ

### 1. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ï¼š
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ï¼ˆTypeError, NetworkErrorãªã©ï¼‰
- ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹

### 2. ãƒªã‚¯ã‚¨ã‚¹ãƒˆæƒ…å ±

- HTTPãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆGET, POSTãªã©ï¼‰
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ã‚¹
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£
- ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±

### 3. ç’°å¢ƒå¤‰æ•°

ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼š
```bash
supabase secrets list
```

### 4. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—

ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸæ™‚åˆ»ã‚’ç¢ºèªã—ã€ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆã¨ã®é–¢é€£æ€§ã‚’èª¿ã¹ã‚‹

---

## ãƒ‡ãƒãƒƒã‚°ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’æœ€åˆã«ç¢ºèª**
   - æœ€æ–°ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‹ã‚‰ç¢ºèª
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¨æ–‡èª­ã‚€

2. **é–¢é€£ã™ã‚‹ãƒ­ã‚°ã‚’ç¢ºèª**
   - ã‚¨ãƒ©ãƒ¼å‰å¾Œã®ãƒ­ã‚°ã‚‚ç¢ºèª
   - è¤‡æ•°ã®FunctionãŒé–¢é€£ã—ã¦ã„ã‚‹å ´åˆã¯ã€ã™ã¹ã¦ã®ãƒ­ã‚°ã‚’ç¢ºèª

3. **ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª**
   - `supabase secrets list`ã§ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

4. **ã‚³ãƒ¼ãƒ‰ã¨ãƒ­ã‚°ã‚’ç…§åˆ**
   - ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸç®‡æ‰€ã®ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèª
   - `console.error`ã‚„`console.log`ã®å‡ºåŠ›ã‚’ç¢ºèª

5. **å†ç¾æ‰‹é †ã‚’è¨˜éŒ²**
   - ã‚¨ãƒ©ãƒ¼ãŒå†ç¾ã™ã‚‹æ‰‹é †ã‚’è¨˜éŒ²
   - å†ç¾æ‰‹é †ã‚’å…ƒã«ãƒ‡ãƒãƒƒã‚°

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [Supabase CLI Documentation](https://supabase.com/docs/reference/cli)
- [Supabase Edge Functions Logs](https://supabase.com/docs/guides/functions/logs)
- [Supabase Dashboard](https://supabase.com/dashboard)

---

## è£œè¶³: MCP Supabaseã«ã¤ã„ã¦

ç¾åœ¨ã€Cursorã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã¯MCP Supabaseã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ä¸Šè¨˜ã®æ–¹æ³•ã§ãƒ­ã‚°ã‚’ç¢ºèªã§ãã¾ã™ã€‚

å°†æ¥çš„ã«MCP SupabaseãŒåˆ©ç”¨å¯èƒ½ã«ãªã£ãŸå ´åˆã€ã‚ˆã‚Šç°¡å˜ã«ãƒ­ã‚°ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

