# Webflow Videos Collection ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸€è¦§

## Basic info

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å | å‹ | å¿…é ˆ | Sanityå¯¾å¿œ | å‚™è€ƒ |
|------------|-----|-----|-----------|------|
| Name | Plain text | âœ… | `title` | å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ« |
| Slug | Plain text | âœ… | `slug` | URLç”¨ã‚¹ãƒ©ãƒƒã‚° |

## Custom fields

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å | å‹ | å¿…é ˆ | Sanityå¯¾å¿œ | å‚™è€ƒ |
|------------|-----|-----|-----------|------|
| VideoTitle | Plain text | âŒ | âŒ ä¸è¦ | å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆNameã¨é‡è¤‡ï¼Ÿï¼‰ |
| Video Thumbnail | Image | âŒ | âŒ ä¸è¦ | å‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ« |
| Is this a section title? | Switch | âŒ | âŒ ä½¿ç”¨ä¸­ | ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«åˆ¤å®šï¼ˆQueståˆ†å‰²ç”¨ï¼‰ |
| ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¦‚è¦ - Summary | Plain text | âŒ | âŒ ä¸è¦ | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¦‚è¦ |
| CategoryMd-Design-Flow | Reference | âŒ | âŒ ä¸è¦ | ã‚«ãƒ†ã‚´ãƒªå‚ç…§ |
| CategoryTy-tag | Reference | âŒ | âŒ ä¸è¦ | ã‚¿ã‚°å‚ç…§ |
| Series | Reference | âŒ | âŒ ä½¿ç”¨ä¸­ | ã‚·ãƒªãƒ¼ã‚ºå‚ç…§ï¼ˆè¦ªãƒ¬ãƒƒã‚¹ãƒ³ï¼‰ |
| Link Video | Video link | âŒ | `videoUrl` | æœ‰æ–™å‹•ç”»URL |
| FreeVideoURL | Video link | âŒ | `videoUrl` | ç„¡æ–™å‹•ç”»URL |
| Video Length | Plain text | âœ… | `videoDuration` | å‹•ç”»ã®é•·ã• |
| Next Video | Reference | âŒ | âŒ ä¸è¦ | æ¬¡ã®å‹•ç”»å‚ç…§ |
| Series Video Order | Number | âŒ | âŒ ä½¿ç”¨ä¸­ | è¡¨ç¤ºé †åºï¼ˆã‚½ãƒ¼ãƒˆç”¨ï¼‰ |
| æ›´æ–°ã«è¡¨ç¤ºã—ãªã„ | Switch | âŒ | âŒ ä¸è¦ | è¡¨ç¤ºãƒ•ãƒ©ã‚° |
| FreeContent | Switch | âŒ | `isPremium` | ç„¡æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ï¼ˆè«–ç†åè»¢ï¼‰ |
| FreeVideo | Reference | âŒ | âŒ ä¸è¦ | ç„¡æ–™å‹•ç”»å‚ç…§ |
| CommunityVideo | Switch | âŒ | âŒ ä¸è¦ | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‹•ç”»ã‹ |
| Description | Rich text | âŒ | `content` | å‹•ç”»ã®èª¬æ˜ |
| Description Free | Rich text | âŒ | âŒ ä¸è¦ | ç„¡æ–™ç‰ˆã®èª¬æ˜ |
| Series Number | Plain text | âŒ | âŒ ä¸è¦ | ã‚·ãƒªãƒ¼ã‚ºç•ªå· |
| Video Item ID | Plain text | âŒ | âŒ ä¸è¦ | å‹•ç”»ã‚¢ã‚¤ãƒ†ãƒ ID |
| step-number | Plain text | âŒ | âŒ ä¸è¦ | ã‚¹ãƒ†ãƒƒãƒ—ç•ªå· |
| ã‚·ãƒªãƒ¼ã‚ºç´¹ä»‹å‹•ç”» | Switch | âŒ | âŒ ä¸è¦ | ã‚·ãƒªãƒ¼ã‚ºç´¹ä»‹å‹•ç”»ã‹ |
| Number of Total Favorite | Number | âŒ | âŒ ä¸è¦ | ãŠæ°—ã«å…¥ã‚Šæ•° |

---

## Sanityãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆArticleå‹ï¼‰

### è‡ªå‹•å–å¾—ã™ã¹ããƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

| Webflowãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | Sanityãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å„ªå…ˆåº¦ | å‚™è€ƒ |
|-----------------|----------------|-------|------|
| Name | `title` | ğŸ”´ å¿…é ˆ | æ—¢ã«å®Ÿè£…æ¸ˆã¿ |
| Slug | `slug` | ğŸ”´ å¿…é ˆ | æ—¢ã«å®Ÿè£…æ¸ˆã¿ |
| FreeVideoURL | `videoUrl` | ğŸ”´ å¿…é ˆ | ç„¡æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”¨ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ |
| Link Video | `videoUrl` | ğŸ”´ å¿…é ˆ | æœ‰æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”¨ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ |
| Video Length | `videoDuration` | ğŸ”´ å¿…é ˆ | æ—¢ã«å®Ÿè£…æ¸ˆã¿ |
| FreeContent | `isPremium` | ğŸ”´ å¿…é ˆ | è«–ç†åè»¢ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ |
| Description | `content` | ğŸ”´ å¿…é ˆ | æ—¢ã«å®Ÿè£…æ¸ˆã¿ |
| Series Video Order | ï¼ˆã‚½ãƒ¼ãƒˆç”¨ï¼‰ | ğŸ”´ å¿…é ˆ | Questå†…ã®ã‚½ãƒ¼ãƒˆã«ä½¿ç”¨ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ |
| Is this a section title? | ï¼ˆQueståˆ¤å®šï¼‰ | ğŸ”´ å¿…é ˆ | Queståˆ†å‰²ã«ä½¿ç”¨ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ |

### å†…éƒ¨ä½¿ç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆè¡¨ç¤ºã—ãªã„ï¼‰

- **Series**: è¦ªãƒ¬ãƒƒã‚¹ãƒ³ã®å‚ç…§ï¼ˆAPIçµŒç”±ã§è‡ªå‹•å–å¾—ï¼‰
- **Series Video Order**: ã‚½ãƒ¼ãƒˆé †åºã®æ±ºå®šã«ä½¿ç”¨
- **Is this a section title?**: Quest/Articleåˆ¤å®šã«ä½¿ç”¨

---

## ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

### âœ… æ—¢ã«å®Ÿè£…æ¸ˆã¿

ã™ã¹ã¦ã®é‡è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå®Ÿè£…æ¸ˆã¿ã§ã™ï¼

1. âœ… Name â†’ `title`
2. âœ… Slug â†’ `slug`
3. âœ… FreeVideoURL â†’ `videoUrl` (ç„¡æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„)
4. âœ… Link Video â†’ `videoUrl` (æœ‰æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„)
5. âœ… Video Length â†’ `videoDuration`
6. âœ… FreeContent â†’ `isPremium` (è«–ç†åè»¢)
7. âœ… Description â†’ `content`
8. âœ… Series Video Order â†’ ã‚½ãƒ¼ãƒˆç”¨
9. âœ… Is this a section title? â†’ Queståˆ¤å®šç”¨

### å®Ÿè£…å ´æ‰€

- `supabase/functions/webflow-series/types.ts` - WebflowVideoå‹
- `supabase/functions/webflow-series/transformer.ts` - å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
- `supabase/functions/webflow-series/webflow-client.ts` - APIå–å¾—

---

## æ³¨æ„äº‹é …

### 1. å‹•ç”»URLå–å¾—ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰

```typescript
if (!isPremium) {
  // ç„¡æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: FreeVideoURL ã‚’å„ªå…ˆ
  videoUrl = video.fieldData?.['freevideourl'] ?? video['freevideourl'] ?? ...
} else {
  // æœ‰æ–™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„: Link Video ã‚’ä½¿ç”¨
  videoUrl = video.fieldData?.['link-video-3'] ?? video.fieldData?.['link-video'] ?? ...
}
```

### 2. Queståˆ†å‰²ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰

```typescript
const isSectionTitle = video.fieldData?.['is-this-a-section-title-3'] ?? ...

if (isSectionTitle) {
  // æ–°ã—ã„Questã‚’ä½œæˆ
  currentQuest = { title: name, articles: [] };
} else {
  // ç¾åœ¨ã®Questã«Articleã‚’è¿½åŠ 
  currentQuest.articles.push(transformVideoToArticle(video));
}
```

---

## Videos Collectionã§è¿½åŠ å®Ÿè£…ã¯ä¸è¦

Webflow Videosã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€**æ—¢ã«å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã™ã¹ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™**ã€‚

è¿½åŠ ã§å–å¾—ã—ãŸã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚
