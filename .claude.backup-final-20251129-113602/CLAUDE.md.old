# Claude Code プロジェクト指示

**最終更新**: 2025-11-28

---

## 🎯 最重要指示

### 作業開始前に必ず読むこと

1. **`.claude/PROJECT-RULES.md`** - このプロジェクトの開発ルール（必読）
2. **`.claude/docs/subscription/TASK-TRACKER.md`** - 現在のタスクと問題（必読）

**これらを読まずに作業を開始してはいけません。**

---

## 📋 作業フロー（必須）

### Step 1: 現状把握（作業開始時）

```bash
# 必ず以下のファイルを読む
1. .claude/docs/subscription/TASK-TRACKER.md
   → 今何をすべきか、どんな問題があるか

2. .claude/PROJECT-RULES.md
   → どうやって作業を進めるか

3. .claude/docs/subscription/README.md
   → 関連ドキュメントがどこにあるか
```

---

### Step 2: タスク実行

**PROJECT-RULES.mdに従って実装する**

---

### Step 3: 問題発見時

**即座にTASK-TRACKER.mdのCritical Issuesセクションに記録する**

---

### Step 4: 完了報告（作業終了時）

**TASK-TRACKER.mdの該当タスクを「完了」に更新し、履歴に移動する**

---

## ⚠️ 禁止事項

以下の行為は**絶対に禁止**:

1. ❌ TASK-TRACKER.mdを読まずに作業開始
2. ❌ PROJECT-RULES.mdを無視した開発
3. ❌ 問題を発見しても記録せず放置
4. ❌ ドキュメント更新を忘れる
5. ❌ テストせずにデプロイ
6. ❌ 本番環境で実験的な操作

---

## 📚 ドキュメント階層

```
.claude/
├── PROJECT-RULES.md                    ← 開発ルール（必読）
└── docs/
    └── subscription/
        ├── TASK-TRACKER.md             ← タスク管理（必読）
        ├── README.md                   ← ドキュメント索引
        ├── specifications/
        │   ├── system-specification.md ← システム仕様
        │   └── ...
        ├── guides/
        │   ├── common-errors.md        ← よくある失敗
        │   └── ...
        └── plans/
            ├── phase2-stripe-pricing-final.md
            └── ...
```

---

## 🎯 優先順位

### 1. Critical Issues（🔴）

**TASK-TRACKER.mdのCritical Issuesセクションを最優先で対応**

現在のCritical Issue:
- create-checkout Edge Functionエラー（500 Internal Server Error）

---

### 2. 通常タスク

**TASK-TRACKER.mdの優先度に従って対応**

---

## 🔄 このファイルの役割

このファイル（.claude/CLAUDE.md）は、Claude Codeに対する最上位の指示です。

**このファイルで指示すること**:
- 他のドキュメントへの参照
- 絶対に守るべき最重要ルール
- 作業フローの概要

**このファイルで指示しないこと**:
- 詳細な開発ルール → PROJECT-RULES.mdに記載
- 具体的なタスク → TASK-TRACKER.mdに記載
- システム仕様 → specifications/に記載

---

## 📝 更新履歴

| 日付 | 更新内容 |
|------|---------|
| 2025-11-28 | 初版作成（PROJECT-RULES.md、TASK-TRACKER.md参照を追加） |

---

**全ての作業は、このルールに従って実施してください。**
